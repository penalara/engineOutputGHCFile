{
    "$id": "engineOutputGHCSchema",
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "title": "EngineOutputGHCSchema",
    "description": "Schema document to format in Json the timetable generated by PenalaraGHC.",
    "type": "object",
    "required": [
        "date",
        "timetable"
    ],
    "properties": {
        "date": {
            "title": "JsonGenerationDate",
            "description": "Timetable's generation date.",
            "type": "string",
            "format": "date-time"
        },
        "timetable": {
            "title": "GeneratedJsonTimetable",
            "description": "Object with the specification of the resolved schedule.",
            "type": "object",
            "required": [
                "assignedSections"
            ],
            "properties": {
                "assignedSections": {
                    "title": "AssignedSections",
                    "description": "List of sections assigned in the Timetable.",
                    "type": "array",
                    "additionalItems": false,
                    "items": {
                        "title": "AssignedSection",
                        "description": "Section with one or more session (or on call hours) assigned.",
                        "type": "object",
                        "required": [
                            "refFrame",
                            "day",
                            "realIndex",
                            "fictionalIndex",
                            "sessionsAsigned"
                        ],
                        "properties": {
                            "refFrame": {
                                "description": "Frame's section of timetable with assignation.",
                                "type": "string"
                            },
                            "day": {
                                "description": "Day of the week when is located the section.",
                                "type": "integer"
                            },
                            "realIndex": {
                                "description": "Position on the day, of the real section, in the frame.",
                                "type": "integer"
                            },
                            "fictionalIndex": {
                                "description": "Position on the day, of the ficticial section, in the frame.",
                                "type": "integer",
                                "$comment": "The engine make the ficticial sections, as a division of Real Sections."
                            },
                            "sessionsAssigned": {
                                "title": "SessionsAssigned",
                                "description": "List of, session and on call hours, assigned at the section.",
                                "type": "array",
                                "additionalItems": false,
                                "items": {
                                    "title": "SessionAssigned",
                                    "description": "Session, or on call hour, assigned in the timetable.",
                                    "type": "object",
                                    "required": [
                                        "refSesion"
                                    ],
                                    "properties": {
                                        "refSesion": {
                                            "description": "Identifier of the session in the input file.",
                                            "type": "integer"
                                        },
                                        "refClassRomms": {
                                            "title": "RefclassRomms",
                                            "description": "List of classrooms assigned to teach the session.",
                                            "type": "array",
                                            "additionalItems": false,
                                            "items": {
                                                "title": "RefclassRomm",
                                                "description": "Identifier of the classroom in the input file.",
                                                "type": "string",
                                                "$comment": "On call services never have assigned rooms."
                                            }
                                        },
                                        "refTeachers": {
                                            "title": "RefTeachers",
                                            "description": "List of teachers assigned to the session.",
                                            "type": "array",
                                            "additionalItems": false,
                                            "items": {
                                                "title": "RefTeacher",
                                                "description": "Identifier of the teacher in the input file.",
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "additionalProperties": false
                    }
                },
                "anonymousClassRooms": {
                    "title": "SetOfAnonymousClassRooms",
                    "description": "Collection with anonymous classrooms made by the engine. The classrooms are grouped by set of classrooms.",
                    "type": "array",
                    "additionalItems": false,
                    "items": {
                        "title": "AnonymousClassRoom",
                        "description": "Object with anonymous classrooms created in a set of classrooms.",
                        "type": "object",
                        "required": [
                            "refClassRoomsSet",
                            "classRoomsCreated"
                        ],
                        "properties": {
                            "refClassRoomsSet": {
                                "description": "Identifier name of the ClassRooms group.",
                                "type": "string"
                            },
                            "classRoomsCreated": {
                                "title": "ListOfAnonymousRooms",
                                "description": "List of anonymous classroom created in one set of classrooms.",
                                "type": "array",
                                "additionalItems": false,
                                "items": {
                                    "title": "AnonymousRoom",
                                    "description": "Identifier name of the anonymous classroom.",
                                    "type": "string"
                                }
                            }
                        },
                        "additionalProperties": false
                    }
                }
            },
            "additionalProperties": false
        }
    }
}
